config FMNA
	bool "Enable FMN Accessory Development Kit"
	select BT
	select BT_PERIPHERAL
	select BT_SMP
	select BT_EXT_ADV

	select BT_SETTINGS
	select FLASH
	select FLASH_MAP
	select NVS
	select SETTINGS

	select OBERON_BACKEND
	select NORDIC_SECURITY_BACKEND
	select MBEDTLS_ENABLE_HEAP

	select EVENT_MANAGER

	select PM_SINGLE_IMAGE

if FMNA

config FMNA_DEBUG
	bool "Enable FMN Accessory with Debug capabilities"

# Product Plan configuration
config FMNA_NORDIC_PRODUCT_PLAN
	bool "Use Nordic Product Plan"

config FMNA_PRODUCT_DATA
	hex "FMN Accessory Product Data"
	default f86ae43ad21a6d93 if FMNA_NORDIC_PRODUCT_PLAN
	default 0

# AIS configuration
menu "Accessory Information Service (AIS)"

config FMNA_MANUFACTURER_NAME
	string "FMN Accessory Manufacturer Name"
	default "Manufacturer"

config FMNA_MODEL_NAME
	string "FMN Accessory Model Name"
	default "Model"

config FMNA_CATEGORY
	int "FMN Accessory Category"
	range 1 167
	default 128

config FMNA_CAPABILITY_PLAY_SOUND_ENABLED
	bool "FMN Accessory Capability: declare sound playing capability"

config FMNA_CAPABILITY_DETECT_MOTION_ENABLED
	bool "FMN Accessory Capability: declare motion detecting capability"

config FMNA_CAPABILITY_NFC_SN_LOOKUP_ENABLED
	bool "FMN Accessory Capability: declare Serial Number NFC lookup capability"

config FMNA_CAPABILITY_BLE_SN_LOOKUP_ENABLED
	bool "FMN Accessory Capability: declare Serial Number BLE lookup capability"

config FMNA_CAPABILITY_FW_UPDATE_SVC_ENABLED
	bool "FMN Accessory Capability: declare Firmware Update Service capability"

choice FMNA_BATTERY_TYPE
	prompt "FMN Accessory battery type"
	default FMNA_BATTERY_TYPE_POWERED

config FMNA_BATTERY_TYPE_POWERED
	bool "Powered"

config FMNA_BATTERY_TYPE_NON_RECHARGEABLE
	bool "Non-rechargeable battery"

config FMNA_BATTERY_TYPE_RECHARGEABLE
	bool "Rechargeable battery"

endchoice

endmenu

# Battery Level thresholds
config FMNA_BATTERY_STATE_CRITICAL_THR
	int "Battery level threshold [%] for entering critical battery state"
	range 0 100
	default 10

config FMNA_BATTERY_STATE_LOW_THR
	int "Battery level threshold [%] for entering low battery state"
	range 0 100
	default 40

config FMNA_BATTERY_STATE_MEDIUM_THR
	int "Battery level threshold [%] for entering medium battery state"
	range 0 100
	default 80

menu "Firmware version"

config FMNA_FIRMWARE_VERSION_MAJOR
	int "FMNA Firmware major version"
	default 1
	range 0 65535

config FMNA_FIRMWARE_VERSION_MINOR
	int "FMNA Firmware major version"
	default 0
	range 0 255

config FMNA_FIRMWARE_VERSION_REVISION
	int "FMNA Firmware revision version"
	default 0
	range 0 255

config FMNA_FIRMWARE_VERSION_BUILD
	int "FMNA Firmware build version"
	default 0

endmenu

# Override default BLE configuration

config BT_DEVICE_NAME
	default "Nordic_FMN"

config BT_L2CAP_TX_MTU
	default 247

config BT_L2CAP_RX_MTU
	default 247

config BT_CTLR_TX_BUFFER_SIZE
	default 251

config BT_CTLR_DATA_LENGTH_MAX
	default 251

config BT_ID_MAX
	default 2

# Override default kernel configuration

config HEAP_MEM_POOL_SIZE
	default 2048

config MAIN_STACK_SIZE
	default 2048

# Logger configuration

module = FMNA
module-str = FMNA
source "${ZEPHYR_BASE}/subsys/logging/Kconfig.template.log_config"

endif # FMNA
